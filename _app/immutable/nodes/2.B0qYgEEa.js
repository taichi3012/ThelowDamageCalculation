import{c as $a,a as D,t as U}from"../chunks/disclose-version.DTFQmwBY.js";import{a7 as Wa,E as Xa,m as $,L as Re,o as Za,D as et,an as Ma,J as at,K as pa,M as Ie,N as W,F as Na,G as Ca,H as tt,as as Oe,A as ne,at as rt,au as nt,av as st,a5 as lt,w as ma,aw as it,ax as ot,am as ct,ay as ut,az as vt,a8 as ft,aj as _t,ag as dt,aA as pt,aB as mt,I as gt,aC as bt,aD as ht,O as Ge,b as yt,aE as kt,Q as St,n as X,aF as wt,ac as ga,Z as ba,a2 as xt,aG as Et,P as Da,h as Fa,j as h,k as g,l as b,t as M,p as Be,i as qe,y as T,g as i,aH as R,aI as Lt,aJ as At,aK as Tt,aL as V,aM as K,aN as $e}from"../chunks/runtime.BUbLQ9qy.js";import{d as Rt,e as H,a as q,s as ja,b as se,f as It}from"../chunks/store.isfeO1Cb.js";import{c as Ot,p as z,i as Ga,b as $t}from"../chunks/props.DesdDNDX.js";import{i as Pe}from"../chunks/lifecycle.C9aMa1gH.js";import{w as Mt}from"../chunks/index.DkSSqLOx.js";import{o as Ba}from"../chunks/index-client.BMoHh-Zx.js";let Me=null;function ha(e,a){return a}function Nt(e,a,t,r){for(var n=[],s=a.length,l=0;l<s;l++)ot(a[l].e,n,!0);var v=s>0&&n.length===0&&t!==null;if(v){var _=t.parentNode;ct(_),_.append(t),r.clear(),B(e,a[0].prev,a[s-1].next)}ut(n,()=>{for(var o=0;o<s;o++){var f=a[o];v||(r.delete(f.k),B(e,f.prev,f.next)),vt(f.e,!v)}})}function ya(e,a,t,r,n,s=null){var l=e,v={flags:a,items:new Map,first:null};{var _=e;l=$?Re(ft(_)):_.appendChild(Wa())}$&&Za();var o=null,f=!1;Xa(()=>{var u=t(),p=et(u)?u:u==null?[]:Ma(u),c=p.length;if(f&&c===0)return;f=c===0;let d=!1;if($){var y=l.data===at;y!==(c===0)&&(l=pa(),Re(l),Ie(!1),d=!0)}if($){for(var k=null,S,L=0;L<c;L++){if(W.nodeType===8&&W.data===_t){l=W,d=!0,Ie(!1);break}var A=p[L],x=r(A,L);S=qa(W,v,k,null,A,x,L,n,a),v.items.set(x,S),k=S}c>0&&Re(pa())}$||Ct(p,v,l,n,a,r),s!==null&&(c===0?o?Na(o):o=Ca(()=>s(l)):o!==null&&tt(o,()=>{o=null})),d&&Ie(!0),t()}),$&&(l=W)}function Ct(e,a,t,r,n,s){var l=e.length,v=a.items,_=a.first,o=_,f,u=null,p=[],c=[],d,y,k,S;for(S=0;S<l;S+=1){if(d=e[S],y=s(d,S),k=v.get(y),k===void 0){var L=o?o.e.nodes_start:t;u=qa(L,a,u,u===null?a.first:u.next,d,y,S,r,n),v.set(y,u),p=[],c=[],o=u.next;continue}if(Dt(k,d,S),k.e.f&Oe&&Na(k.e),k!==o){if(f!==void 0&&f.has(k)){if(p.length<c.length){var A=c[0],x;u=A.prev;var j=p[0],G=p[p.length-1];for(x=0;x<p.length;x+=1)ka(p[x],A,t);for(x=0;x<c.length;x+=1)f.delete(c[x]);B(a,j.prev,G.next),B(a,u,j),B(a,G,A),o=A,u=G,S-=1,p=[],c=[]}else f.delete(k),ka(k,o,t),B(a,k.prev,k.next),B(a,k,u===null?a.first:u.next),B(a,u,k),u=k;continue}for(p=[],c=[];o!==null&&o.k!==y;)o.e.f&Oe||(f??(f=new Set)).add(o),c.push(o),o=o.next;if(o===null)continue;k=o}p.push(k),u=k,o=k.next}if(o!==null||f!==void 0){for(var P=f===void 0?[]:Ma(f);o!==null;)o.e.f&Oe||P.push(o),o=o.next;var N=P.length;if(N>0){var Q=l===0?t:null;Nt(a,P,Q,v)}}ne.first=a.first&&a.first.e,ne.last=u&&u.e}function Dt(e,a,t,r){rt(e.v,a),e.i=t}function qa(e,a,t,r,n,s,l,v,_){var o=Me;try{var f=(_&nt)!==0,u=(_&st)===0,p=f?u?lt(n):ma(n):n,c=_&it?ma(l):l,d={i:c,v:p,k:s,a:null,e:null,prev:t,next:r};return Me=d,d.e=Ca(()=>v(e,p,c),$),d.e.prev=t&&t.e,d.e.next=r&&r.e,t===null?a.first=d:(t.next=d,t.e.next=d.e),r!==null&&(r.prev=d,r.e.prev=d.e),d}finally{Me=o}}function ka(e,a,t){for(var r=e.next?e.next.e.nodes_start:t,n=a?a.e.nodes_start:t,s=e.e.nodes_start;s!==r;){var l=dt(s);n.before(s),s=l}}function B(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}let Sa=!1;function Pa(){Sa||(Sa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const t of e.target.elements)(a=t.__on_r)==null||a.call(t)})},{capture:!0}))}function I(e){if($){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var r=e.value;wa(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var n=e.checked;wa(e,"checked",null),e.checked=n}}};e.__on_r=t,pt(t),Pa()}}function wa(e,a,t,r){var n=e.__attributes??(e.__attributes={});$&&(n[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||n[a]!==(n[a]=t)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[mt]=t),e.removeAttribute(a))}function xa(e,a,t){if(t){if(e.classList.contains(a))return;e.classList.add(a)}else{if(!e.classList.contains(a))return;e.classList.remove(a)}}const Ft=requestAnimationFrame,jt=()=>performance.now(),F={tick:e=>Ft(e),now:()=>jt(),tasks:new Set};function Ha(e){F.tasks.forEach(a=>{a.c(e)||(F.tasks.delete(a),a.f())}),F.tasks.size!==0&&F.tick(Ha)}function za(e){let a;return F.tasks.size===0&&F.tick(Ha),{promise:new Promise(t=>{F.tasks.add(a={c:e,f:t})}),abort(){F.tasks.delete(a)}}}function te(e,a){e.dispatchEvent(new CustomEvent(a))}function Gt(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const a=e.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Ea(e){const a={},t=e.split(";");for(const r of t){const[n,s]=r.split(":");if(!n||s===void 0)break;const l=Gt(n.trim());a[l]=s.trim()}return a}const Bt=e=>e;function Ce(e,a,t,r){var n=(e&wt)!==0,s="both",l,v=a.inert,_,o;function f(){var y=xt,k=ne;ga(null),ba(null);try{return l??(l=t()(a,(r==null?void 0:r())??{},{direction:s}))}finally{ga(y),ba(k)}}var u={is_global:n,in(){a.inert=v,te(a,"introstart"),_=De(a,f(),o,1,()=>{te(a,"introend"),_==null||_.abort(),_=l=void 0})},out(y){a.inert=!0,te(a,"outrostart"),o=De(a,f(),_,0,()=>{te(a,"outroend"),y==null||y()})},stop:()=>{_==null||_.abort(),o==null||o.abort()}},p=ne;if((p.transitions??(p.transitions=[])).push(u),Rt){var c=n;if(!c){for(var d=p.parent;d&&d.f&gt;)for(;(d=d.parent)&&!(d.f&bt););c=!d||(d.f&ht)!==0}c&&Ge(()=>{yt(()=>u.in())})}}function De(e,a,t,r,n){var s=r===1;if(kt(a)){var l,v=!1;return St(()=>{if(!v){var k=a({direction:s?"in":"out"});l=De(e,k,t,r,n)}}),{abort:()=>{v=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(t==null||t.deactivate(),!(a!=null&&a.duration))return n(),{abort:X,deactivate:X,reset:X,t:()=>r};const{delay:_=0,css:o,tick:f,easing:u=Bt}=a;var p=[];if(s&&t===void 0&&(f&&f(0,1),o)){var c=Ea(o(0,1));p.push(c,c)}var d=()=>1-r,y=e.animate(p,{duration:_});return y.onfinish=()=>{var k=(t==null?void 0:t.t())??1-r;t==null||t.abort();var S=r-k,L=a.duration*Math.abs(S),A=[];if(L>0){if(o)for(var x=Math.ceil(L/16.666666666666668),j=0;j<=x;j+=1){var G=k+S*u(j/x),P=o(G,1-G);A.push(Ea(P))}d=()=>{var N=y.currentTime;return k+S*u(N/L)},f&&za(()=>{if(y.playState!=="running")return!1;var N=d();return f(N,1-N),!0})}y=e.animate(A,{duration:L,fill:"forwards"}),y.onfinish=()=>{d=()=>r,f==null||f(r,1-r),n()}},{abort:()=>{y&&(y.cancel(),y.effect=null,y.onfinish=X)},deactivate:()=>{n=X},reset:()=>{r===0&&(f==null||f(1,0))},t:()=>d()}}function He(e,a,t,r=t){e.addEventListener(a,t);const n=e.__on_r;n?e.__on_r=()=>{n(),r()}:e.__on_r=r,Pa()}function Y(e,a,t=a){var r=Et();He(e,"input",()=>{var n=La(e)?Aa(e.value):e.value;t(n),r&&n!==(n=a())&&(e.value=n??"")}),Da(()=>{var n=a();if($&&e.defaultValue!==e.value){t(e.value);return}La(e)&&n===Aa(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function J(e,a,t=a){He(e,"change",()=>{var r=e.checked;t(r)}),a()==null&&t(!1),Da(()=>{var r=a();e.checked=!!r})}function La(e){var a=e.type;return a==="number"||a==="range"}function Aa(e){return e===""?null:+e}function Ua(e,a,t){if(e.multiple)return Pt(e,a);for(var r of e.options){var n=Z(r);if(Ot(n,a)){r.selected=!0;return}}(!t||a!==void 0)&&(e.selectedIndex=-1)}function qt(e,a){Ge(()=>{var t=new MutationObserver(()=>{var r=e.__value;Ua(e,r)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function Ne(e,a,t=a){var r=!0;He(e,"change",()=>{var n;if(e.multiple)n=[].map.call(e.querySelectorAll(":checked"),Z);else{var s=e.querySelector(":checked");n=s&&Z(s)}t(n)}),Ge(()=>{var n=a();if(Ua(e,n,r),r&&n===void 0){var s=e.querySelector(":checked");s!==null&&(n=Z(s),t(n))}e.__value=n,r=!1}),qt(e)}function Pt(e,a){for(var t of e.options)t.selected=~a.indexOf(Z(t))}function Z(e){return"__value"in e?e.__value:e.value}const Ht=({url:e})=>{const a=e.searchParams,t=function(n){const s=n.split("E");let l=parseInt(s[0],36),v=0;return s[1]&&(v=parseInt(s[1],36)),l*=10**v,v<0&&(l=parseFloat(l.toFixed(-v))),l},r=a.has("ms")?parseInt(a.get("ms"),2):0;return{weaponDamage:a.has("wd")?t(a.get("wd")):0,specialDamage:a.has("sd")?t(a.get("sd")):0,parkGain:a.has("pg")?t(a.get("pg")):0,jobGain:a.has("jg")?t(a.get("jg")):0,equipGain:a.has("eg")?t(a.get("eg")):0,numLegendStone:a.has("ns")?parseInt(a.get("ns")).toString():"0",skill:a.has("sk")?a.get("sk"):"general_attack",strLevel:a.has("str")?parseInt(a.get("str"),36):0,magicStone:{level_1:(r>>5&1)==1,level_2:(r>>4&1)==1,level_3:(r>>3&1)==1,level_4:(r>>2&1)==1,"level_4.5":(r>>1&1)==1,level_5:(r>>0&1)==1},darkMode:localStorage.getItem("dark_mode")=="true"}},fr=Object.freeze(Object.defineProperty({__proto__:null,load:Ht},Symbol.toStringTag,{value:"Module"}));function Ta(e){return Object.prototype.toString.call(e)==="[object Date]"}function zt(e){return e}function Ra(e){return Math.pow(e-1,3)*(1-e)+1}function Fe(e,a){if(e===a||e!==e)return()=>e;const t=typeof e;if(t!==typeof a||Array.isArray(e)!==Array.isArray(a))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=a.map((n,s)=>Fe(e[s],n));return n=>r.map(s=>s(n))}if(t==="object"){if(!e||!a)throw new Error("Object cannot be null");if(Ta(e)&&Ta(a)){const s=e.getTime(),v=a.getTime()-s;return _=>new Date(s+_*v)}const r=Object.keys(a),n={};return r.forEach(s=>{n[s]=Fe(e[s],a[s])}),s=>{const l={};return r.forEach(v=>{l[v]=n[v](s)}),l}}if(t==="number"){const r=a-e;return n=>e+n*r}throw new Error(`Cannot interpolate ${t} values`)}function Ia(e,a={}){const t=Mt(e);let r,n=e;function s(l,v){if(n=l,e==null)return t.set(e=l),Promise.resolve();let _=r,o=!1,{delay:f=0,duration:u=400,easing:p=zt,interpolate:c=Fe}={...a,...v};if(u===0)return _&&(_.abort(),_=null),t.set(e=n),Promise.resolve();const d=F.now()+f;let y;return r=za(k=>{if(k<d)return!0;o||(y=c(e,l),typeof u=="function"&&(u=u(e,l)),o=!0),_&&(_.abort(),_=null);const S=k-d;return S>u?(t.set(e=l),!1):(t.set(e=y(p(S/u))),!0)}),r.promise}return{set:s,update:(l,v)=>s(l(n,e),v),subscribe:t.subscribe}}function Va(e){const a=e-1;return a*a*a+1}function Ut(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function je(e){const a=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return a?[parseFloat(a[1]),a[2]||"px"]:[e,"px"]}function Vt(e,{delay:a=0,duration:t=400,easing:r=Ut,amount:n=5,opacity:s=0}={}){const l=getComputedStyle(e),v=+l.opacity,_=l.filter==="none"?"":l.filter,o=v*(1-s),[f,u]=je(n);return{delay:a,duration:t,easing:r,css:(p,c)=>`opacity: ${v-o*c}; filter: ${_} blur(${c*f}${u});`}}function Kt(e,{delay:a=0,duration:t=400,easing:r=Va,x:n=0,y:s=0,opacity:l=0}={}){const v=getComputedStyle(e),_=+v.opacity,o=v.transform==="none"?"":v.transform,f=_*(1-l),[u,p]=je(n),[c,d]=je(s);return{delay:a,duration:t,easing:r,css:(y,k)=>`
			transform: ${o} translate(${(1-y)*u}${p}, ${(1-y)*c}${d});
			opacity: ${_-f*k}`}}function Yt(e,{delay:a=0,duration:t=400,easing:r=Va,start:n=0,opacity:s=0}={}){const l=getComputedStyle(e),v=+l.opacity,_=l.transform==="none"?"":l.transform,o=1-n,f=v*(1-s);return{delay:a,duration:t,easing:r,css:(u,p)=>`
			transform: ${_} scale(${1-o*p});
			opacity: ${v-f*p}
		`}}var Jt=U('<div class="bg svelte-tufn76"><div class="fg svelte-tufn76"><span class="icon material-icons svelte-tufn76"> </span> <p> </p></div></div>');function Qt(e,a){let t=z(a,"show",12,!1),r=z(a,"icon",8,"checked"),n=z(a,"message",8,"");function s(){t(!1)}var l=$a(),v=Fa(l);Ga(v,t,_=>{var o=Jt(),f=h(o),u=h(f),p=h(u,!0);g(u);var c=b(u,2),d=h(c,!0);g(c),g(f),g(o),M(()=>{q(p,r()),q(d,n())}),Ce(3,u,()=>Yt,()=>({delay:250})),Ce(3,o,()=>Vt),H("click",o,s),H("keydown",o,s),D(_,o)}),D(e,l)}var Wt=U('<div class="view space-around text-center svelte-yr4tlu"><div class="vbox"><small>通常</small> <span class="text-big"> </span></div> <div class="vbox"><small>クリティカル</small> <span class="text-big"> </span></div></div>');function Xt(e,a){Be(a,!1);const t=ja(),r=()=>se(s(),"$normalResult",t),n=()=>se(l(),"$criticalResult",t);let s=z(a,"normalResult",8),l=z(a,"criticalResult",8),v=R(!1);Ba(()=>{new IntersectionObserver(u=>{u.forEach(p=>T(v,!p.isIntersecting))},{threshold:.75}).observe(document.documentElement.getElementsByClassName("result")[0])}),Pe();var _=$a(),o=Fa(_);Ga(o,()=>i(v),f=>{var u=Wt(),p=h(u),c=b(h(p),2),d=h(c,!0);M(()=>q(d,r().toFixed(2))),g(c),g(p);var y=b(p,2),k=b(h(y),2),S=h(k,!0);M(()=>q(S,n().toFixed(2))),g(k),g(y),g(u),Ce(3,u,()=>Kt,()=>({delay:1})),D(f,u)}),D(e,_),qe()}var Zt=U('<div class="svelte-1161gb5"><span class="material-icons svelte-1161gb5"> </span></div>');function er(e,a){Be(a,!1);let t=z(a,"darkMode",12);function r(){t(!t()),localStorage.setItem("dark_mode",""+t()),n()}function n(){t()?document.documentElement.setAttribute("theme","dark"):document.documentElement.removeAttribute("theme")}Ba(n),Pe();var s=Zt(),l=h(s),v=h(l,!0);g(l),g(s),M(()=>{xa(l,"dark",t()),xa(l,"light",!t()),q(v,t()?"dark_mode":"light_mode")}),H("click",s,r),H("keydown",s,r),D(e,s),qe()}const Oa=[0,9,18,27,36,45,54,63,72,81,102.659,115.072,122.172,126.701,129.829,132.114,133.856,135.227,136.334,137.246,138.011,138.661,139.221,139.707,140.135,140.513,140.849,141.151,141.424,141.67,141.895,142.1,142.289,142.462,142.623,142.772,142.91,143.039,143.159,143.272,143.377,143.476,143.57,143.658,143.742,143.821,143.895,143.966,144.034,144.098,144.159,144.217,144.273,144.326,144.377,144.426,144.473,144.518,144.561,144.602,144.642,144.68,144.717,144.753,144.787,144.82,144.852,144.883,144.913,144.942,144.97,144.997,145.024,145.049,145.074],re={general_attack:{name:"スキルなし(通常攻撃)",multiply:1,availabilSpecial:!0},magical_mixture_hit:{name:"魔混(直撃)",multiply:1.7,availabilSpecial:!0},gekokujo_boss:{name:"下剋上(BOSS)",multiply:1.07,availabilSpecial:!0},gekokujo_boss_excl_job:{name:"下剋上(BOSS,専用職業)",multiply:1.3,availabilSpecial:!0},gekokujo_boss_coexis:{name:"下剋上(BOSS,専用職業,-10%)",multiply:1.3*.9,availabilSpecial:!1},gekokujo_mob:{name:"下剋上(MOB)",multiply:.7,availabilSpecial:!0},amrudad_boss_excl_job:{name:"アムル(BOSS,専用職業)",multiply:1.1,availabilSpecial:!0},maryokuzoufuku_boss:{name:"魔力増幅(BOSS)",multiply:1.1,availabilSpecial:!0},maryokuzoufuku_mob:{name:"魔力増幅(MOB)",multiply:.85,availabilSpecial:!0},volcano:{name:"ボルケーノ",multiply:22,availabilSpecial:!1},magic_ball_chant:{name:"マジックボール(詠唱あり)",multiply:8,availabilSpecial:!1},magic_ball_normal:{name:"マジックボール(詠唱なし)",multiply:4,availabilSpecial:!1},shock_stone:{name:"ショックストーン",multiply:7,availabilSpecial:!1},chaos_blizzard:{name:"カオスブリザード(全弾Hit)",multiply:1.1*7,availabilSpecial:!1},snow_pillar:{name:"雪柱",multiply:4,availabilSpecial:!1},stead_shock:{name:"ステッドショック",multiply:32,availabilSpecial:!1},over_shoot_shadow_power:{name:"オーバーシュート(スキルあり)",multiply:18.75,availabilSpecial:!1},over_shoot_normal:{name:"オーバーシュート(スキルなし)",multiply:12.5,availabilSpecial:!1},awakening:{name:"覚醒",multiply:2,availabilSpecial:!0},berserk:{name:"バーサーク(狂気あり)",multiply:7.5,availabilSpecial:!0},eclipse_special:{name:"星輝神の歌声",multiply:1.5,availabilSpecial:!0},blood_slash:{name:"血の斬撃",multiply:2.5,availabilSpecial:!0},heiron_metu:{name:"ヘイロン滅",multiply:8,availabilSpecial:!1}};var ar=U('<meta name="description" content="Thelow 非公式のダメージ計算器。機能: スキル使用時の計算、攻撃力上昇エフェクト使用時の計算、レジェンド魔法石使用時の計算">'),tr=U("<option></option>"),rr=U("<option> </option>"),nr=U('<main><div class="container vbox svelte-mgw2fe"><h1 class="pointer" title="クリックでリンクをコピーできます">Thelowダメージ計算 <span class="material-icons">share</span></h1> <div class="result padding svelte-mgw2fe"><div class="vbox"><small>通常</small> <span class="text-big"> </span></div> <div class="vbox"><small>クリティカル</small> <span class="text-big"> </span></div></div> <div class="params space-around svelte-mgw2fe"><div class="basicdamage panel padding svelte-mgw2fe"><h2>基本ダメージ</h2> <section class="svelte-mgw2fe"><label for="weaponDamageInput">武器の素ダメージ</label> <input type="number" placeholder="例:300"></section> <section class="svelte-mgw2fe"><label for="specialDamageInput">特攻値</label> <input type="number" placeholder="例:50"></section> <section class="svelte-mgw2fe"><label for="jobGainInput">職業補正(%)</label> <input type="number" placeholder="例:10"></section> <section class="svelte-mgw2fe"><label for="equipGainInput">装備補正(%)</label> <input type="number" placeholder="例:10"></section> <section class="svelte-mgw2fe"><label for="parkGainInput">パーク(%)</label> <input type="number" placeholder="例:140"></section> <section class="svelte-mgw2fe"><span>オーバーストレンジ</span> <div class="hbox"><select class="flex-grow-3"></select> <input class="flex-grow-1 pointer" type="button" value="OS値適用"></div></section></div> <div class="vbox panel svelte-mgw2fe"><div class="magicstone padding vbox"><h2>魔法石</h2> <section class="vbox margin-1/2em"><label for="legendValueSelector">レジェンド魔法石個数</label> <select><option>0個</option><option>1個</option><option>2個</option><option>3個</option></select></section> <section><input id="ms1" type="checkbox"> <label for="ms1">特攻魔法石Level1</label></section> <section><input id="ms2" type="checkbox"> <label for="ms2">特攻魔法石Level2</label></section> <section><input id="ms3" type="checkbox"> <label for="ms3">特攻魔法石Level3</label></section> <section><input id="ms4" type="checkbox"> <label for="ms4">特攻魔法石Level4</label></section> <section><input id="ms4.5" type="checkbox"> <label for="ms4.5">特攻魔法石Level4.5</label></section> <section><input id="ms5" type="checkbox"> <label for="ms5">特攻魔法石Level5 or Legend</label></section></div> <div class="othereffect svelte-mgw2fe"><h2>その他</h2> <section class="svelte-mgw2fe"><label for="skillSelector">スキル</label> <select></select></section> <section class="svelte-mgw2fe"><label for="strengthEffectInput">攻撃力上昇エフェクトLv</label> <input type="number" placeholder="例:5"></section></div></div></div> <p class="text-center">※特攻値の乗らないスキル(ショックストーンなど)は、特攻値を除いて計算しています。</p> <!> <!> <!></div></main>');function _r(e,a){Be(a,!1);const t=ja(),r=()=>se(A,"$normalResult",t),n=()=>se(x,"$criticalResult",t);let s=z(a,"data",8),l=R(s().weaponDamage),v=R(s().specialDamage),_=R(s().parkGain),o=R(s().jobGain),f=R(s().equipGain),u=R("0"),p=R(s().numLegendStone),c=R(s().magicStone),d=R(s().skill),y=R(s().strLevel),k="",S=R(),L=R(s().darkMode);const A=Ia(0,{delay:200,duration:1e3,easing:Ra}),x=Ia(0,{delay:200,duration:1e3,easing:Ra}),j={level_1:1.1,level_2:1.15,level_3:1.23,level_4:1.35,"level_4.5":1.4,level_5:1.55};function G(){T(_,Oa[Number(i(u))])}function P(){const m=new URL(window.location.href),w=new URLSearchParams,E=function(C){if(C!==Math.round(C)){const ae=C.toString().split(".")[1].length;return Math.round(C*10**ae).toString(36)+"E"+-ae.toString(36)}return C.toString(36)};i(l)&&w.set("wd",E(i(l))),i(v)&&w.set("sd",E(i(v))),i(_)&&w.set("pg",E(i(_))),i(o)&&w.set("jg",E(i(o))),i(f)&&w.set("eg",E(i(f))),i(p)!=="0"&&w.set("ns",Number(i(p)).toString(36)),i(d)!=="general_attack"&&w.set("sk",i(d));const O=Object.keys(i(c)).reduce((C,ae)=>C+(i(c)[ae]?1:0),"");O!=="000000"&&w.set("ms",O),i(y)&&w.set("str",i(y).toString(36)),m.search=w.toString(),window.history.replaceState({},"",m),k=m.href}function N(){navigator.clipboard.writeText(k),i(S).$set({show:!0,icon:"checked",message:"URLをコピーしました!"}),setTimeout(()=>{i(S).$set({show:!1})},1e3*1.5)}Lt(()=>(i(l),i(d),i(v),i(_),i(o),i(f),i(c),i(y),i(p)),()=>{let m=i(l);re[i(d)].availabilSpecial&&(m+=i(v));let w=(100+i(_)+i(o)+i(f))/100;for(const E of Object.keys(i(c)))i(c)[E]&&(w*=j[E]);w*=re[i(d)].multiply,w*=i(y)?1+.2*i(y):1,w*=1.06**Number(i(p)),A.set(m*w),x.set(m*w*1.15),P()}),At(),Pe();var Q=nr();It(m=>{var w=ar();Tt.title="TheLowダメージ計算機",D(m,w)});var ze=h(Q),le=h(ze),ie=b(le,2),oe=h(ie),Ue=b(h(oe),2),Ka=h(Ue,!0);M(()=>q(Ka,r().toFixed(2))),g(Ue),g(oe);var Ve=b(oe,2),Ke=b(h(Ve),2),Ya=h(Ke,!0);M(()=>q(Ya,n().toFixed(2))),g(Ke),g(Ve),g(ie);var ce=b(ie,2),ue=h(ce),ve=b(h(ue),2),Ye=b(h(ve),2);I(Ye),g(ve);var fe=b(ve,2),Je=b(h(fe),2);I(Je),g(fe);var _e=b(fe,2),Qe=b(h(_e),2);I(Qe),g(_e);var de=b(_e,2),We=b(h(de),2);I(We),g(de);var pe=b(de,2),Xe=b(h(pe),2);I(Xe),g(pe);var Ze=b(pe,2),ea=b(h(Ze),2),ee=h(ea);M(()=>{i(u),$e(()=>{})}),ya(ee,5,()=>Oa,ha,(m,w,E)=>{var O=tr();O.value=(O.__value=`${E}`)==null?"":`${E}`,O.textContent=E,D(m,O)}),g(ee);var Ja=b(ee,2);g(ea),g(Ze),g(ue);var aa=b(ue,2),me=h(aa),ge=b(h(me),2),be=b(h(ge),2);M(()=>{i(p),$e(()=>{})});var he=h(be);he.value=(he.__value="0")==null?"":"0";var ye=b(he);ye.value=(ye.__value="1")==null?"":"1";var ke=b(ye);ke.value=(ke.__value="2")==null?"":"2";var ta=b(ke);ta.value=(ta.__value="3")==null?"":"3",g(be),g(ge);var Se=b(ge,2),ra=h(Se);I(ra),K(2),g(Se);var we=b(Se,2),na=h(we);I(na),K(2),g(we);var xe=b(we,2),sa=h(xe);I(sa),K(2),g(xe);var Ee=b(xe,2),la=h(Ee);I(la),K(2),g(Ee);var Le=b(Ee,2),ia=h(Le);I(ia),K(2),g(Le);var oa=b(Le,2),ca=h(oa);I(ca),K(2),g(oa),g(me);var ua=b(me,2),Ae=b(h(ua),2),Te=b(h(Ae),2);M(()=>{i(d),$e(()=>{})}),ya(Te,5,()=>Object.keys(re),ha,(m,w)=>{var E=rr(),O={},C=h(E,!0);g(E),M(()=>{O!==(O=i(w))&&(E.value=(E.__value=i(w))==null?"":i(w)),q(C,re[i(w)].name)}),D(m,E)}),g(Te),g(Ae);var va=b(Ae,2),fa=b(h(va),2);I(fa),g(va),g(ua),g(aa),g(ce);var _a=b(ce,4);er(_a,{get darkMode(){return i(L)},set darkMode(m){T(L,m)},$$legacy:!0});var da=b(_a,2);Xt(da,{normalResult:A,criticalResult:x});var Qa=b(da,2);$t(Qt(Qa,{$$legacy:!0}),m=>T(S,m),()=>i(S)),g(ze),g(Q),H("click",le,N),H("keydown",le,N),Y(Ye,()=>i(l),m=>T(l,m)),Y(Je,()=>i(v),m=>T(v,m)),Y(Qe,()=>i(o),m=>T(o,m)),Y(We,()=>i(f),m=>T(f,m)),Y(Xe,()=>i(_),m=>T(_,m)),Ne(ee,()=>i(u),m=>T(u,m)),H("click",Ja,G),Ne(be,()=>i(p),m=>T(p,m)),J(ra,()=>i(c).level_1,m=>V(c,i(c).level_1=m)),J(na,()=>i(c).level_2,m=>V(c,i(c).level_2=m)),J(sa,()=>i(c).level_3,m=>V(c,i(c).level_3=m)),J(la,()=>i(c).level_4,m=>V(c,i(c).level_4=m)),J(ia,()=>i(c)["level_4.5"],m=>V(c,i(c)["level_4.5"]=m)),J(ca,()=>i(c).level_5,m=>V(c,i(c).level_5=m)),Ne(Te,()=>i(d),m=>T(d,m)),Y(fa,()=>i(y),m=>T(y,m)),D(e,Q),qe()}export{_r as component,fr as universal};
