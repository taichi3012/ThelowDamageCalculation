import{c as Ft,a as N,t as U}from"../chunks/disclose-version.58ErUEeK.js";import{a7 as sa,E as la,m as M,L as Me,o as ra,D as na,an as Gt,J as ia,K as kt,M as $e,N as J,F as qt,G as Bt,H as oa,as as Ce,A as se,at as ca,au as ua,av as va,a5 as fa,w as At,aw as _a,ax as da,am as pa,ay as ma,az as ga,a8 as ba,aj as ha,ag as ya,aA as ka,aB as Aa,I as xa,aC as wa,aD as Sa,O as He,b as ja,aE as Ea,Q as La,n as Q,aF as Ta,ac as xt,Z as wt,a2 as Ia,aG as Ra,P as zt,ab as Oa,z as Ma,p as ne,h as Pt,i as ie,g as r,y as E,j as y,k as g,l as b,t as $,aH as L,aI as $a,aJ as Ca,aK as Na,aL as V,aM as K,aN as Ne}from"../chunks/runtime.nHwAJfZ0.js";import{d as Da,e as H,a as B,s as Ht,b as le,f as Fa}from"../chunks/store.toNXgFGs.js";import{c as Ga,i as Ut,p as re,b as qa}from"../chunks/props.C9YLDkEB.js";import{i as Ue}from"../chunks/lifecycle.DUvdPd9K.js";import{w as Ba}from"../chunks/index.DXdCzGf4.js";import{o as Vt}from"../chunks/index-client.Dw9hFRHw.js";let De=null;function St(e,t){return t}function za(e,t,a,s){for(var l=[],n=t.length,i=0;i<n;i++)da(t[i].e,l,!0);var v=n>0&&l.length===0&&a!==null;if(v){var _=a.parentNode;pa(_),_.append(a),s.clear(),q(e,t[0].prev,t[n-1].next)}ma(l,()=>{for(var o=0;o<n;o++){var f=t[o];v||(s.delete(f.k),q(e,f.prev,f.next)),ga(f.e,!v)}})}function jt(e,t,a,s,l,n=null){var i=e,v={flags:t,items:new Map,first:null};{var _=e;i=M?Me(ba(_)):_.appendChild(sa())}M&&ra();var o=null,f=!1;la(()=>{var u=a(),d=na(u)?u:u==null?[]:Gt(u),c=d.length;if(f&&c===0)return;f=c===0;let p=!1;if(M){var k=i.data===ia;k!==(c===0)&&(i=kt(),Me(i),$e(!1),p=!0)}if(M){for(var h=null,x,w=0;w<c;w++){if(J.nodeType===8&&J.data===ha){i=J,p=!0,$e(!1);break}var T=d[w],S=s(T,w);x=Kt(J,v,h,null,T,S,w,l,t),v.items.set(S,x),h=x}c>0&&Me(kt())}M||Pa(d,v,i,l,t,s),n!==null&&(c===0?o?qt(o):o=Bt(()=>n(i)):o!==null&&oa(o,()=>{o=null})),p&&$e(!0),a()}),M&&(i=J)}function Pa(e,t,a,s,l,n){var i=e.length,v=t.items,_=t.first,o=_,f,u=null,d=[],c=[],p,k,h,x;for(x=0;x<i;x+=1){if(p=e[x],k=n(p,x),h=v.get(k),h===void 0){var w=o?o.e.nodes_start:a;u=Kt(w,t,u,u===null?t.first:u.next,p,k,x,s,l),v.set(k,u),d=[],c=[],o=u.next;continue}if(Ha(h,p,x),h.e.f&Ce&&qt(h.e),h!==o){if(f!==void 0&&f.has(h)){if(d.length<c.length){var T=c[0],S;u=T.prev;var R=d[0],F=d[d.length-1];for(S=0;S<d.length;S+=1)Et(d[S],T,a);for(S=0;S<c.length;S+=1)f.delete(c[S]);q(t,R.prev,F.next),q(t,u,R),q(t,F,T),o=T,u=F,x-=1,d=[],c=[]}else f.delete(h),Et(h,o,a),q(t,h.prev,h.next),q(t,h,u===null?t.first:u.next),q(t,u,h),u=h;continue}for(d=[],c=[];o!==null&&o.k!==k;)o.e.f&Ce||(f??(f=new Set)).add(o),c.push(o),o=o.next;if(o===null)continue;h=o}d.push(h),u=h,o=h.next}if(o!==null||f!==void 0){for(var z=f===void 0?[]:Gt(f);o!==null;)o.e.f&Ce||z.push(o),o=o.next;var G=z.length;if(G>0){var X=i===0?a:null;za(t,z,X,v)}}se.first=t.first&&t.first.e,se.last=u&&u.e}function Ha(e,t,a,s){ca(e.v,t),e.i=a}function Kt(e,t,a,s,l,n,i,v,_){var o=De;try{var f=(_&ua)!==0,u=(_&va)===0,d=f?u?fa(l):At(l):l,c=_&_a?At(i):i,p={i:c,v:d,k:n,a:null,e:null,prev:a,next:s};return De=p,p.e=Bt(()=>v(e,d,c),M),p.e.prev=a&&a.e,p.e.next=s&&s.e,a===null?t.first=p:(a.next=p,a.e.next=p.e),s!==null&&(s.prev=p,s.e.prev=p.e),p}finally{De=o}}function Et(e,t,a){for(var s=e.next?e.next.e.nodes_start:a,l=t?t.e.nodes_start:a,n=e.e.nodes_start;n!==s;){var i=ya(n);l.before(n),n=i}}function q(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}let Lt=!1;function Yt(){Lt||(Lt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const a of e.target.elements)(t=a.__on_r)==null||t.call(a)})},{capture:!0}))}function I(e){if(M){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var s=e.value;Tt(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var l=e.checked;Tt(e,"checked",null),e.checked=l}}};e.__on_r=a,ka(a),Yt()}}function Tt(e,t,a,s){var l=e.__attributes??(e.__attributes={});M&&(l[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||l[t]!==(l[t]=a)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Aa]=a),e.removeAttribute(t))}function It(e,t,a){if(a){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}const Ua=requestAnimationFrame,Va=()=>performance.now(),D={tick:e=>Ua(e),now:()=>Va(),tasks:new Set};function Jt(e){D.tasks.forEach(t=>{t.c(e)||(D.tasks.delete(t),t.f())}),D.tasks.size!==0&&D.tick(Jt)}function Qt(e){let t;return D.tasks.size===0&&D.tick(Jt),{promise:new Promise(a=>{D.tasks.add(t={c:e,f:a})}),abort(){D.tasks.delete(t)}}}function te(e,t){e.dispatchEvent(new CustomEvent(t))}function Ka(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function Rt(e){const t={},a=e.split(";");for(const s of a){const[l,n]=s.split(":");if(!l||n===void 0)break;const i=Ka(l.trim());t[i]=n.trim()}return t}const Ya=e=>e;function qe(e,t,a,s){var l=(e&Ta)!==0,n="both",i,v=t.inert,_,o;function f(){var k=Ia,h=se;xt(null),wt(null);try{return i??(i=a()(t,(s==null?void 0:s())??{},{direction:n}))}finally{xt(k),wt(h)}}var u={is_global:l,in(){t.inert=v,te(t,"introstart"),_=Be(t,f(),o,1,()=>{te(t,"introend"),_==null||_.abort(),_=i=void 0})},out(k){t.inert=!0,te(t,"outrostart"),o=Be(t,f(),_,0,()=>{te(t,"outroend"),k==null||k()})},stop:()=>{_==null||_.abort(),o==null||o.abort()}},d=se;if((d.transitions??(d.transitions=[])).push(u),Da){var c=l;if(!c){for(var p=d.parent;p&&p.f&xa;)for(;(p=p.parent)&&!(p.f&wa););c=!p||(p.f&Sa)!==0}c&&He(()=>{ja(()=>u.in())})}}function Be(e,t,a,s,l){var n=s===1;if(Ea(t)){var i,v=!1;return La(()=>{if(!v){var h=t({direction:n?"in":"out"});i=Be(e,h,a,s,l)}}),{abort:()=>{v=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(a==null||a.deactivate(),!(t!=null&&t.duration))return l(),{abort:Q,deactivate:Q,reset:Q,t:()=>s};const{delay:_=0,css:o,tick:f,easing:u=Ya}=t;var d=[];if(n&&a===void 0&&(f&&f(0,1),o)){var c=Rt(o(0,1));d.push(c,c)}var p=()=>1-s,k=e.animate(d,{duration:_});return k.onfinish=()=>{var h=(a==null?void 0:a.t())??1-s;a==null||a.abort();var x=s-h,w=t.duration*Math.abs(x),T=[];if(w>0){if(o)for(var S=Math.ceil(w/16.666666666666668),R=0;R<=S;R+=1){var F=h+x*u(R/S),z=o(F,1-F);T.push(Rt(z))}p=()=>{var G=k.currentTime;return h+x*u(G/w)},f&&Qt(()=>{if(k.playState!=="running")return!1;var G=p();return f(G,1-G),!0})}k=e.animate(T,{duration:w,fill:"forwards"}),k.onfinish=()=>{p=()=>s,f==null||f(s,1-s),l()}},{abort:()=>{k&&(k.cancel(),k.effect=null,k.onfinish=Q)},deactivate:()=>{l=Q},reset:()=>{s===0&&(f==null||f(1,0))},t:()=>p()}}function Ve(e,t,a,s=a){e.addEventListener(t,a);const l=e.__on_r;l?e.__on_r=()=>{l(),s()}:e.__on_r=s,Yt()}function P(e,t,a=t){var s=Ra();Ve(e,"input",()=>{var l=Ot(e)?Mt(e.value):e.value;a(l),s&&l!==(l=t())&&(e.value=l??"")}),zt(()=>{var l=t();if(M&&e.defaultValue!==e.value){a(e.value);return}Ot(e)&&l===Mt(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function Y(e,t,a=t){Ve(e,"change",()=>{var s=e.checked;a(s)}),t()==null&&a(!1),zt(()=>{var s=t();e.checked=!!s})}function Ot(e){var t=e.type;return t==="number"||t==="range"}function Mt(e){return e===""?null:+e}function Fe(e,t,a){var s=Ma(e,t);s&&s.set&&(e[t]=a,Oa(()=>{e[t]=null}))}function Wt(e,t,a){if(e.multiple)return Qa(e,t);for(var s of e.options){var l=W(s);if(Ga(l,t)){s.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function Ja(e,t){He(()=>{var a=new MutationObserver(()=>{var s=e.__value;Wt(e,s)});return a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function Ge(e,t,a=t){var s=!0;Ve(e,"change",()=>{var l;if(e.multiple)l=[].map.call(e.querySelectorAll(":checked"),W);else{var n=e.querySelector(":checked");l=n&&W(n)}a(l)}),He(()=>{var l=t();if(Wt(e,l,s),s&&l===void 0){var n=e.querySelector(":checked");n!==null&&(l=W(n),a(l))}e.__value=l,s=!1}),Ja(e)}function Qa(e,t){for(var a of e.options)a.selected=~t.indexOf(W(a))}function W(e){return"__value"in e?e.__value:e.value}const Wa=({url:e})=>{const t=e.searchParams,a=function(l){const n=l.split("E");let i=parseInt(n[0],36),v=0;return n[1]&&(v=parseInt(n[1],36)),i*=10**v,v<0&&(i=parseFloat(i.toFixed(-v))),i},s=t.has("ms")?parseInt(t.get("ms"),2):0;return{weaponDamage:t.has("wd")?a(t.get("wd")):0,specialDamage:t.has("sd")?a(t.get("sd")):0,parkGain:t.has("pg")?a(t.get("pg")):0,jobGain:t.has("jg")?a(t.get("jg")):0,equipGain:t.has("eg")?a(t.get("eg")):0,numLegendStone:t.has("ns")?parseInt(t.get("ns")).toString():"0",skill:t.has("sk")?t.get("sk"):"general_attack",strLevel:t.has("str")?parseInt(t.get("str"),36):0,magicStone:{level_1:(s>>5&1)==1,level_2:(s>>4&1)==1,level_3:(s>>3&1)==1,level_4:(s>>2&1)==1,"level_4.5":(s>>1&1)==1,level_5:(s>>0&1)==1},darkMode:localStorage.getItem("dark_mode")=="true"}},ys=Object.freeze(Object.defineProperty({__proto__:null,load:Wa},Symbol.toStringTag,{value:"Module"}));function $t(e){return Object.prototype.toString.call(e)==="[object Date]"}function Xa(e){return e}function Ct(e){return Math.pow(e-1,3)*(1-e)+1}function ze(e,t){if(e===t||e!==e)return()=>e;const a=typeof e;if(a!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const s=t.map((l,n)=>ze(e[n],l));return l=>s.map(n=>n(l))}if(a==="object"){if(!e||!t)throw new Error("Object cannot be null");if($t(e)&&$t(t)){const n=e.getTime(),v=t.getTime()-n;return _=>new Date(n+_*v)}const s=Object.keys(t),l={};return s.forEach(n=>{l[n]=ze(e[n],t[n])}),n=>{const i={};return s.forEach(v=>{i[v]=l[v](n)}),i}}if(a==="number"){const s=t-e;return l=>e+l*s}throw new Error(`Cannot interpolate ${a} values`)}function Nt(e,t={}){const a=Ba(e);let s,l=e;function n(i,v){if(l=i,e==null)return a.set(e=i),Promise.resolve();let _=s,o=!1,{delay:f=0,duration:u=400,easing:d=Xa,interpolate:c=ze}={...t,...v};if(u===0)return _&&(_.abort(),_=null),a.set(e=l),Promise.resolve();const p=D.now()+f;let k;return s=Qt(h=>{if(h<p)return!0;o||(k=c(e,i),typeof u=="function"&&(u=u(e,i)),o=!0),_&&(_.abort(),_=null);const x=h-p;return x>u?(a.set(e=i),!1):(a.set(e=k(d(x/u))),!0)}),s.promise}return{set:n,update:(i,v)=>n(i(l,e),v),subscribe:a.subscribe}}function Xt(e){const t=e-1;return t*t*t+1}function Za(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function Pe(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function es(e,{delay:t=0,duration:a=400,easing:s=Za,amount:l=5,opacity:n=0}={}){const i=getComputedStyle(e),v=+i.opacity,_=i.filter==="none"?"":i.filter,o=v*(1-n),[f,u]=Pe(l);return{delay:t,duration:a,easing:s,css:(d,c)=>`opacity: ${v-o*c}; filter: ${_} blur(${c*f}${u});`}}function ts(e,{delay:t=0,duration:a=400,easing:s=Xt,x:l=0,y:n=0,opacity:i=0}={}){const v=getComputedStyle(e),_=+v.opacity,o=v.transform==="none"?"":v.transform,f=_*(1-i),[u,d]=Pe(l),[c,p]=Pe(n);return{delay:t,duration:a,easing:s,css:(k,h)=>`
			transform: ${o} translate(${(1-k)*u}${d}, ${(1-k)*c}${p});
			opacity: ${_-f*h}`}}function as(e,{delay:t=0,duration:a=400,easing:s=Xt,start:l=0,opacity:n=0}={}){const i=getComputedStyle(e),v=+i.opacity,_=i.transform==="none"?"":i.transform,o=1-l,f=v*(1-n);return{delay:t,duration:a,easing:s,css:(u,d)=>`
			transform: ${_} scale(${1-o*d});
			opacity: ${v-f*d}
		`}}var ss=U('<div class="bg svelte-qaz81"><div class="fg svelte-qaz81"><span class="icon material-icons svelte-qaz81"> </span> <p> </p></div></div>');function ls(e,t){ne(t,!1);let a=L(!1),s=L("checked"),l=L("");function n(f,u){E(s,f),E(l,u)}function i(){E(a,!0)}function v(){E(a,!1)}var _=Ft(),o=Pt(_);return Ut(o,()=>r(a),f=>{var u=ss(),d=y(u),c=y(d),p=y(c,!0);g(c);var k=b(c,2),h=y(k,!0);g(k),g(d),g(u),$(()=>{B(p,r(s)),B(h,r(l))}),qe(3,c,()=>as,()=>({delay:250})),qe(3,u,()=>es),H("click",u,v),H("keydown",u,v),N(f,u)}),N(e,_),Fe(t,"setContent",n),Fe(t,"open",i),Fe(t,"close",v),ie({setContent:n,open:i,close:v})}var rs=U('<div class="view space-around text-center svelte-1cv53sw"><div class="vbox"><small>通常</small> <span class="text-big"> </span></div> <div class="vbox"><small>クリティカル</small> <span class="text-big"> </span></div></div>');function ns(e,t){ne(t,!1);const a=Ht(),s=()=>le(n(),"$normalResult",a),l=()=>le(i(),"$criticalResult",a);let n=re(t,"normalResult",8),i=re(t,"criticalResult",8),v=L(!1);Vt(()=>{new IntersectionObserver(u=>{u.forEach(d=>E(v,!d.isIntersecting))},{threshold:.75}).observe(document.documentElement.getElementsByClassName("result")[0])}),Ue();var _=Ft(),o=Pt(_);Ut(o,()=>r(v),f=>{var u=rs(),d=y(u),c=b(y(d),2),p=y(c,!0);$(()=>B(p,s().toFixed(2))),g(c),g(d);var k=b(d,2),h=b(y(k),2),x=y(h,!0);$(()=>B(x,l().toFixed(2))),g(h),g(k),g(u),qe(3,u,()=>ts,()=>({delay:1})),N(f,u)}),N(e,_),ie()}var is=U('<div class="svelte-k4l6n5"><span class="material-icons svelte-k4l6n5"> </span></div>');function os(e,t){ne(t,!1);let a=re(t,"darkMode",12);function s(){a(!a()),localStorage.setItem("dark_mode",""+a()),l()}function l(){a()?document.documentElement.setAttribute("theme","dark"):document.documentElement.removeAttribute("theme")}Vt(l),Ue();var n=is(),i=y(n),v=y(i,!0);g(i),g(n),$(()=>{It(i,"dark",a()),It(i,"light",!a()),B(v,a()?"dark_mode":"light_mode")}),H("click",n,s),H("keydown",n,s),N(e,n),ie()}const Dt=[0,9,18,27,36,45,54,63,72,81,102.659,115.072,122.172,126.701,129.829,132.114,133.856,135.227,136.334,137.246,138.011,138.661,139.221,139.707,140.135,140.513,140.849,141.151,141.424,141.67,141.895,142.1,142.289,142.462,142.623,142.772,142.91,143.039,143.159,143.272,143.377,143.476,143.57,143.658,143.742,143.821,143.895,143.966,144.034,144.098,144.159,144.217,144.273,144.326,144.377,144.426,144.473,144.518,144.561,144.602,144.642,144.68,144.717,144.753,144.787,144.82,144.852,144.883,144.913,144.942,144.97,144.997,145.024,145.049,145.074],ae={general_attack:{name:"スキルなし(通常攻撃)",multiply:1,specialAttackAvailable:!0},magical_mixture_hit:{name:"魔混(直撃)",multiply:1.7,specialAttackAvailable:!0},gekokujo_boss:{name:"下剋上(BOSS)",multiply:1.07,specialAttackAvailable:!0},gekokujo_boss_excl_job:{name:"下剋上(BOSS,専用職業)",multiply:1.3,specialAttackAvailable:!0},gekokujo_boss_coexis:{name:"下剋上(BOSS,専用職業,-10%)",multiply:1.3*.9,specialAttackAvailable:!1},gekokujo_mob:{name:"下剋上(MOB)",multiply:.7,specialAttackAvailable:!0},amrudad_boss_excl_job:{name:"アムル(BOSS,専用職業)",multiply:1.1,specialAttackAvailable:!0},maryokuzoufuku_boss:{name:"魔力増幅(BOSS)",multiply:1.1,specialAttackAvailable:!0},maryokuzoufuku_mob:{name:"魔力増幅(MOB)",multiply:.85,specialAttackAvailable:!0},volcano:{name:"ボルケーノ",multiply:22,specialAttackAvailable:!1},magic_ball_chant:{name:"マジックボール(詠唱あり)",multiply:8,specialAttackAvailable:!1},magic_ball_normal:{name:"マジックボール(詠唱なし)",multiply:4,specialAttackAvailable:!1},shock_stone:{name:"ショックストーン",multiply:7,specialAttackAvailable:!1},chaos_blizzard:{name:"カオスブリザード(全弾Hit)",multiply:1.1*7,specialAttackAvailable:!1},snow_pillar:{name:"雪柱",multiply:4,specialAttackAvailable:!1},stead_shock:{name:"ステッドショック",multiply:32,specialAttackAvailable:!1},over_shoot_shadow_power:{name:"オーバーシュート(スキルあり)",multiply:18.75,specialAttackAvailable:!1},over_shoot_normal:{name:"オーバーシュート(スキルなし)",multiply:12.5,specialAttackAvailable:!1},awakening:{name:"覚醒",multiply:2,specialAttackAvailable:!0},berserk:{name:"バーサーク(狂気あり)",multiply:7.5,specialAttackAvailable:!0},eclipse_special:{name:"星輝神の歌声",multiply:1.5,specialAttackAvailable:!0},blood_slash:{name:"血の斬撃",multiply:2.5,specialAttackAvailable:!0},heiron_metu:{name:"ヘイロン滅",multiply:8,specialAttackAvailable:!1}};var cs=U('<meta name="description" content="Thelow 非公式のダメージ計算器。機能: スキル使用時の計算、攻撃力上昇エフェクト使用時の計算、レジェンド魔法石使用時の計算">'),us=U("<option></option>"),vs=U("<option> </option>"),fs=U('<main><div class="container vbox svelte-gjlo7u"><h1 class="pointer" title="クリックでリンクをコピーできます">Thelowダメージ計算 <span class="material-icons">share</span></h1> <div class="result padding svelte-gjlo7u"><div class="vbox"><small>通常</small> <span class="text-big"> </span></div> <div class="vbox"><small>クリティカル</small> <span class="text-big"> </span></div></div> <div class="params center svelte-gjlo7u"><div class="vbox panel padding space-between svelte-gjlo7u"><div class="category svelte-gjlo7u"><h2>基本ダメージ</h2> <section><label for="weaponDamageInput">武器の素ダメージ</label> <input type="number" placeholder="例:300"></section> <section><label for="specialDamageInput">特攻値</label> <input type="number" placeholder="例:50"></section></div> <div class="category svelte-gjlo7u"><h2>補正</h2> <section><label for="jobGainInput">職業補正(%)</label> <input type="number" placeholder="例:10"></section> <section><label for="equipGainInput">装備補正(%)</label> <input type="number" placeholder="例:10"></section> <section><label for="parkGainInput">パーク(%)</label> <input type="number" placeholder="例:140"></section> <section class="svelte-gjlo7u"><span>オーバーストレンジ</span> <div class="hbox"><select class="flex-grow-3 svelte-gjlo7u"></select> <button class="flex-grow-1 pointer" type="button">OS値適用</button></div></section></div></div> <div class="vbox panel padding space-between svelte-gjlo7u"><div class="category svelte-gjlo7u"><h2>魔法石</h2> <section class="svelte-gjlo7u"><input id="ms1" type="checkbox" class="svelte-gjlo7u"> <label for="ms1">特攻魔法石Level1</label></section> <section class="svelte-gjlo7u"><input id="ms2" type="checkbox" class="svelte-gjlo7u"> <label for="ms2">特攻魔法石Level2</label></section> <section class="svelte-gjlo7u"><input id="ms3" type="checkbox" class="svelte-gjlo7u"> <label for="ms3">特攻魔法石Level3</label></section> <section class="svelte-gjlo7u"><input id="ms4" type="checkbox" class="svelte-gjlo7u"> <label for="ms4">特攻魔法石Level4</label></section> <section class="svelte-gjlo7u"><input id="ms4.5" type="checkbox" class="svelte-gjlo7u"> <label for="ms4.5">特攻魔法石Level4.5</label></section> <section class="svelte-gjlo7u"><input id="ms5" type="checkbox" class="svelte-gjlo7u"> <label for="ms5">特攻魔法石Level5 or Legend</label></section> <section class="vbox margin-1/2em svelte-gjlo7u"><label for="legendValueSelector">レジェンド魔法石個数</label> <select class="svelte-gjlo7u"><option>0個</option><option>1個</option><option>2個</option><option>3個</option></select></section></div> <div class="category svelte-gjlo7u"><h2>その他</h2> <section class="svelte-gjlo7u"><label for="skillSelector">スキル</label> <select class="svelte-gjlo7u"></select></section> <section><label for="strengthEffectInput">攻撃力上昇エフェクトLv</label> <input type="number" placeholder="例:5"></section> <section><label for="dungeonDamageGainInput">特定の敵に対してダメージ増加(合計%)</label> <input type="number" placeholder="例:5"></section></div></div></div> <p class="text-center">※特攻値の乗らないスキル(ショックストーンなど)は、特攻値を除いて計算しています。</p> <!> <!> <!></div></main>');function ks(e,t){ne(t,!1);const a=Ht(),s=()=>le(S,"$normalResult",a),l=()=>le(R,"$criticalResult",a);let n=re(t,"data",8),i=L(n().weaponDamage),v=L(n().specialDamage),_=L(n().parkGain),o=L(n().jobGain),f=L(n().equipGain),u=L("0"),d=L(n().numLegendStone),c=L(n().magicStone),p=L(n().skill),k=L(n().strLevel),h=L(0),x="",w=L(),T=L(n().darkMode);const S=Nt(0,{delay:200,duration:1e3,easing:Ct}),R=Nt(0,{delay:200,duration:1e3,easing:Ct}),F={level_1:1.1,level_2:1.15,level_3:1.23,level_4:1.35,"level_4.5":1.4,level_5:1.55};function z(){E(_,Dt[Number(r(u))])}function G(){const m=new URL(window.location.href),A=new URLSearchParams,j=function(C){if(C!==Math.round(C)){const ee=C.toString().split(".")[1].length;return Math.round(C*10**ee).toString(36)+"E"+-ee.toString(36)}return C.toString(36)};r(i)&&A.set("wd",j(r(i))),r(v)&&A.set("sd",j(r(v))),r(_)&&A.set("pg",j(r(_))),r(o)&&A.set("jg",j(r(o))),r(f)&&A.set("eg",j(r(f))),r(d)!=="0"&&A.set("ns",Number(r(d)).toString(36)),r(p)!=="general_attack"&&A.set("sk",r(p));const O=Object.keys(r(c)).reduce((C,ee)=>C+(r(c)[ee]?1:0),"");O!=="000000"&&A.set("ms",O),r(k)&&A.set("str",r(k).toString(36)),m.search=A.toString(),window.history.replaceState({},"",m),x=m.href}function X(){navigator.clipboard.writeText(x),r(w).setContent("checked","URLをコピーしました!"),r(w).open(),setTimeout(()=>{r(w).close()},1e3*1.5)}$a(()=>(r(i),r(p),r(v),r(_),r(o),r(f),r(c),r(k),r(d),r(h)),()=>{let m=r(i);ae[r(p)].specialAttackAvailable&&(m+=r(v));let A=(100+r(_)+r(o)+r(f))/100;for(const j of Object.keys(r(c)))r(c)[j]&&(A*=F[j]);A*=ae[r(p)].multiply,A*=r(k)?1+.2*r(k):1,A*=1.06**Number(r(d)),A*=1+r(h)/100,S.set(m*A),R.set(m*A*1.15),G()}),Ca(),Ue();var oe=fs();Fa(m=>{var A=cs();Na.title="TheLowダメージ計算機",N(m,A)});var Ke=y(oe),ce=y(Ke),ue=b(ce,2),ve=y(ue),Ye=b(y(ve),2),Zt=y(Ye,!0);$(()=>B(Zt,s().toFixed(2))),g(Ye),g(ve);var Je=b(ve,2),Qe=b(y(Je),2),ea=y(Qe,!0);$(()=>B(ea,l().toFixed(2))),g(Qe),g(Je),g(ue);var fe=b(ue,2),_e=y(fe),de=y(_e),pe=b(y(de),2),We=b(y(pe),2);I(We),g(pe);var Xe=b(pe,2),Ze=b(y(Xe),2);I(Ze),g(Xe),g(de);var et=b(de,2),me=b(y(et),2),tt=b(y(me),2);I(tt),g(me);var ge=b(me,2),at=b(y(ge),2);I(at),g(ge);var be=b(ge,2),st=b(y(be),2);I(st),g(be);var lt=b(be,2),rt=b(y(lt),2),Z=y(rt);$(()=>{r(u),Ne(()=>{})}),jt(Z,5,()=>Dt,St,(m,A,j)=>{var O=us();O.value=(O.__value=`${j}`)==null?"":`${j}`,O.textContent=j,N(m,O)}),g(Z);var ta=b(Z,2);g(rt),g(lt),g(et),g(_e);var nt=b(_e,2),he=y(nt),ye=b(y(he),2),it=y(ye);I(it),K(2),g(ye);var ke=b(ye,2),ot=y(ke);I(ot),K(2),g(ke);var Ae=b(ke,2),ct=y(Ae);I(ct),K(2),g(Ae);var xe=b(Ae,2),ut=y(xe);I(ut),K(2),g(xe);var we=b(xe,2),vt=y(we);I(vt),K(2),g(we);var Se=b(we,2),ft=y(Se);I(ft),K(2),g(Se);var _t=b(Se,2),je=b(y(_t),2);$(()=>{r(d),Ne(()=>{})});var Ee=y(je);Ee.value=(Ee.__value="0")==null?"":"0";var Le=b(Ee);Le.value=(Le.__value="1")==null?"":"1";var Te=b(Le);Te.value=(Te.__value="2")==null?"":"2";var dt=b(Te);dt.value=(dt.__value="3")==null?"":"3",g(je),g(_t),g(he);var pt=b(he,2),Ie=b(y(pt),2),Re=b(y(Ie),2);$(()=>{r(p),Ne(()=>{})}),jt(Re,5,()=>Object.keys(ae),St,(m,A)=>{var j=vs(),O={},C=y(j,!0);g(j),$(()=>{O!==(O=r(A))&&(j.value=(j.__value=r(A))==null?"":r(A)),B(C,ae[r(A)].name)}),N(m,j)}),g(Re),g(Ie);var Oe=b(Ie,2),mt=b(y(Oe),2);I(mt),g(Oe);var gt=b(Oe,2),bt=b(y(gt),2);I(bt),g(gt),g(pt),g(nt),g(fe);var ht=b(fe,4);os(ht,{get darkMode(){return r(T)},set darkMode(m){E(T,m)},$$legacy:!0});var yt=b(ht,2);ns(yt,{normalResult:S,criticalResult:R});var aa=b(yt,2);qa(ls(aa,{$$legacy:!0}),m=>E(w,m),()=>r(w)),g(Ke),g(oe),H("click",ce,X),H("keydown",ce,X),P(We,()=>r(i),m=>E(i,m)),P(Ze,()=>r(v),m=>E(v,m)),P(tt,()=>r(o),m=>E(o,m)),P(at,()=>r(f),m=>E(f,m)),P(st,()=>r(_),m=>E(_,m)),Ge(Z,()=>r(u),m=>E(u,m)),H("click",ta,z),Y(it,()=>r(c).level_1,m=>V(c,r(c).level_1=m)),Y(ot,()=>r(c).level_2,m=>V(c,r(c).level_2=m)),Y(ct,()=>r(c).level_3,m=>V(c,r(c).level_3=m)),Y(ut,()=>r(c).level_4,m=>V(c,r(c).level_4=m)),Y(vt,()=>r(c)["level_4.5"],m=>V(c,r(c)["level_4.5"]=m)),Y(ft,()=>r(c).level_5,m=>V(c,r(c).level_5=m)),Ge(je,()=>r(d),m=>E(d,m)),Ge(Re,()=>r(p),m=>E(p,m)),P(mt,()=>r(k),m=>E(k,m)),P(bt,()=>r(h),m=>E(h,m)),N(e,oe),ie()}export{ks as component,ys as universal};
